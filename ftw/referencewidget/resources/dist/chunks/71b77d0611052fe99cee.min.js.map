{"version":3,"file":"chunks/71b77d0611052fe99cee.min.js","mappings":"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","sources":["webpack://simplelayout/./ftw/referencewidget/resources/src/widget/App.vue","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/Pagination.vue","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/Pagination.vue?1ecb","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/searchForm.vue","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/searchForm.vue?4cfa","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/Breadcrumbs.vue","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/Breadcrumbs.vue?c37a","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/ListItems.vue","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/components/ListItems.vue?ca47","webpack://simplelayout/./ftw/referencewidget/resources/src/widget/App.vue?2ef7","webpack://simplelayout/./ftw/referencewidget/resources/src/main.js","webpack://simplelayout/./node_modules/vue-loader/dist/exportHelper.js"],"sourcesContent":["<template>\n  <div ref=\"root\">\n    <div class=\"widget-selected-items\">\n      <ul class=\"list-group\">\n        <li class=\"list-group-item\" v-for=\"item in selected\" :key=\"item\">\n          <input\n            type=\"checkbox\"\n            checked\n            :name=\"fieldName\"\n            :value=\"item.replace(portalURL, portalPath)\"\n          />\n          {{ item }}\n        </li>\n      </ul>\n    </div>\n    <button\n      type=\"button\"\n      class=\"btn btn-primary\"\n      data-bs-toggle=\"modal\"\n      :data-bs-target=\"`#${modalName}`\"\n    >\n      Browse\n    </button>\n    <div\n      :id=\"modalName\"\n      class=\"modal fade\"\n      tabindex=\"-1\"\n      aria-labelledby=\"ref-modal-title\"\n      aria-hidden=\"true\"\n      ref=\"modal\"\n    >\n      <div class=\"modal-dialog modal-dialog-scrollable modal-xl\">\n        <div class=\"modal-content\">\n          <div class=\"modal-header\">Choose content</div>\n          <div class=\"modal-body\">\n            <searchForm @search=\"search\" @reset=\"reset\" />\n            <Breadcrumbs\n              :breadcrumbs=\"breadcrumbs\"\n              :fetchData=\"fetchData\"\n              :portalURL=\"portalURL\"\n            />\n            <Pagination\n              v-if=\"data.batching\"\n              @next=\"fetchData\"\n              @previous=\"fetchData\"\n              :batching=\"data.batching\"\n            />\n            total {{ data.items_total }}\n\n            <ListItems\n              :fetchData=\"fetchData\"\n              :items=\"data.items\"\n              :selectedItems=\"selected\"\n              :inputType=\"inputType\"\n              :selectableTypes=\"selectableTypes\"\n              @checked=\"updateSelected\"\n            />\n          </div>\n\n          <div class=\"modal-footer\">\n            <button\n              type=\"button\"\n              class=\"btn btn-secondary\"\n              data-bs-dismiss=\"modal\"\n            >\n              Close\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport Pagination from \"@/components/Pagination.vue\";\nimport SearchForm from \"@/components/searchForm.vue\";\nimport Breadcrumbs from \"@/components/Breadcrumbs.vue\";\nimport ListItems from \"@/components/ListItems.vue\";\nimport jQuery from \"jquery\";\n\nexport default {\n  components: {\n    Pagination,\n    SearchForm,\n    Breadcrumbs,\n    ListItems,\n  },\n  data() {\n    return {\n      portalURL: \"\",\n      baseURL: \"\",\n      startURL: \"\",\n      portalPath: \"\",\n      fieldName: \"\",\n      inputType: \"\",\n      translations: {},\n      data: {},\n      breadcrumbs: [],\n      selected: [],\n      selectableTypes: [],\n      formData: {\n        searchTerm: \"\",\n        sortOn: \"getObjPositionInParent\",\n        sortOrder: \"ascending\",\n      },\n    };\n  },\n  created() {\n    this.baseURL = document.body.getAttribute(\"data-base-url\");\n    this.portalURL = document.body.getAttribute(\"data-portal-url\");\n  },\n  mounted() {\n    const wrapperElement = this.$refs.root.parentElement;\n    this.startURL = wrapperElement.getAttribute(\"data-starturl\");\n    this.portalPath = wrapperElement.getAttribute(\"data-portalpath\");\n    this.fieldName = wrapperElement.getAttribute(\"data-fieldname\");\n    this.inputType = wrapperElement.getAttribute(\"data-inputtype\");\n    this.selectableTypes = JSON.parse(\n      wrapperElement.getAttribute(\"data-selectabletypes\")\n    );\n    this.translations = JSON.parse(\n      wrapperElement.getAttribute(\"data-translations\")\n    );\n\n    this.loadSelectedItems(wrapperElement);\n\n    this.$refs.modal.addEventListener(\"show.bs.modal\", () => {\n      this.fetchData(this.startURL);\n    });\n  },\n  methods: {\n    async fetchData(url, options) {\n      let params = {\n        metadata_fields: [\"UID\", \"is_folderish\", \"portal_type\"],\n        sort_on: this.formData.sortOn,\n        sort_order: this.formData.sortOrder,\n      };\n\n      if (!url) {\n        url = this.data[\"@id\"];\n      }\n\n      const isSearch = url.indexOf(\"/@search\") != -1;\n\n      if (options) {\n        params = Object.assign(params, options);\n      }\n\n      if (!isSearch) {\n        params.expand = \"breadcrumbs\";\n      }\n\n      const response = await this.axios.get(url, { params: params });\n\n      this.data.items = response.data.items;\n      this.data.items_total = response.data.items_total;\n      this.data.batching = response.data.batching;\n\n      if (!isSearch) {\n        this.data[\"@id\"] = response.data[\"@id\"];\n      }\n      if (response.data[\"@components\"]) {\n        this.breadcrumbs = response.data[\"@components\"].breadcrumbs.items;\n      }\n    },\n    search(formData) {\n      this.formData = Object.assign({}, this.formData, formData);\n      const url = this.data[\"@id\"] + \"/@search\";\n      const currentURL = new URL(this.data[\"@id\"]);\n      let options = { \"path.query\": currentURL.pathname, \"path.depth\": 1 };\n      if (this.formData.searchTerm.length > 2) {\n        options.SearchableText = \"*\" + this.formData.searchTerm + \"*\";\n        options[\"path.depth\"] = -1;\n      }\n      this.fetchData(url, options);\n    },\n    reset(formData) {\n      this.formData = formData;\n      this.fetchData(this.startURL);\n    },\n    updateSelected(checked) {\n      this.selected = checked;\n      if (this.inputType == \"radio\") {\n        jQuery.fn.modal.Constructor.getInstance(this.$refs.modal).hide();\n      }\n    },\n    loadSelectedItems(wrapperElement) {\n      wrapperElement.parentElement\n        .querySelectorAll(\".selected_items input\")\n        .forEach((element) => {\n          this.selected.push(\n            this.portalURL + element.value.replace(this.portalPath, \"\")\n          );\n        });\n      wrapperElement.parentElement.querySelector(\".selected_items\").remove();\n    },\n  },\n  computed: {\n    modalName() {\n      return `reference-widget-modal-${this.fieldName.replace(/./g, \"_\")}`;\n    },\n  },\n};\n</script>\n","<template>\n  <nav aria-label=\"Pagination for this listing\" v-if=\"batching\">\n    <ul class=\"pagination\">\n      <li :class=\"batching.prev ? 'page-item' : 'page-item disabled'\">\n        <a href=\"#\" @click.prevent=\"triggerPrevious\" class=\"page-link\">\n          Previous\n        </a>\n      </li>\n      <li :class=\"batching.next ? 'page-item' : 'page-item disabled'\">\n        <a href=\"#\" @click.prevent=\"triggerNext\" class=\"page-link\"> Next </a>\n      </li>\n    </ul>\n  </nav>\n</template>\n<script>\nexport default {\n  props: {\n    batching: {\n      type: Object,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n  methods: {\n    triggerNext() {\n      this.$emit(\"next\", this.batching.next);\n    },\n    triggerPrevious() {\n      this.$emit(\"previous\", this.batching.prev);\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=74a4a50c\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/4teamwork/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <form\n    @submit.stop.prevent=\"search\"\n    class=\"row my-2 gy-2 gx-3 align-items-center\"\n  >\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <select\n          class=\"form-select\"\n          id=\"sortattr\"\n          aria-label=\"Sort attribute\"\n          v-model=\"sortOn\"\n          @change=\"() => search()\"\n        >\n          <template\n            v-for=\"(option, index) in sortAttribute\"\n            :key=\"option.value\"\n          >\n            <option :selected=\"index == 0\" :value=\"option.value\">\n              {{ option.title }}\n            </option>\n          </template>\n        </select>\n        <label for=\"sortattr\">Sort on</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <select\n          class=\"form-select\"\n          id=\"sortorder\"\n          aria-label=\"Sort order\"\n          v-model=\"sortOrder\"\n          @change=\"() => search()\"\n        >\n          <option selected value=\"ascending\">Ascending</option>\n          <option selected value=\"descending\">Descending</option>\n        </select>\n        <label for=\"sortorder\">Sort order</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <div class=\"form-floating\">\n        <input\n          type=\"text\"\n          class=\"form-control\"\n          id=\"searchFilter\"\n          placeholder=\"Text\"\n          v-model=\"searchTerm\"\n        />\n        <label for=\"searchFilter\">Search</label>\n      </div>\n    </div>\n    <div class=\"col\">\n      <button type=\"submit\" class=\"btn btn-primary\">Search</button>\n      <button @click.stop.prevent=\"reset\" class=\"btn btn-danger\">\n        Reset\n      </button>\n    </div>\n  </form>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      searchTerm: \"\",\n      sortOn: \"getObjPositionInParent\",\n      sortOrder: \"ascending\",\n      sortAttribute: [\n        { title: \"Position\", value: \"getObjPositionInParent\" },\n        { title: \"Title\", value: \"sortable_title\" },\n        { title: \"Created\", value: \"created\" },\n        { title: \"Modified\", value: \"modified\" },\n      ],\n    };\n  },\n  methods: {\n    search() {\n      this.$emit(\"search\", {\n        searchTerm: this.searchTerm,\n        sortOn: this.sortOn,\n        sortOrder: this.sortOrder,\n      });\n    },\n    reset() {\n      this.$emit(\"reset\", {\n        searchTerm: \"\",\n        sortOn: \"getObjPositionInParent\",\n        sortOrder: \"ascending\",\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./searchForm.vue?vue&type=template&id=45593cbe\"\nimport script from \"./searchForm.vue?vue&type=script&lang=js\"\nexport * from \"./searchForm.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/4teamwork/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <nav aria-label=\"breadcrumb\">\n    <ol class=\"breadcrumb\">\n      <li class=\"breadcrumb-item\">\n        <a :href=\"portalURL\" @click.prevent.stop=\"fetchData(portalURL)\"\n          >Startpage</a\n        >\n      </li>\n      <template v-for=\"(item, index) in breadcrumbs\" :key=\"item['@id0']\">\n        <li class=\"breadcrumb-item\" v-if=\"index != breadcrumbs.length - 1\">\n          <a :href=\"item['@id']\" @click.stop.prevent=\"fetchData(item['@id'])\">{{\n            item.title\n          }}</a>\n        </li>\n        <li v-else class=\"breadcrumb-item active\" aria-current=\"page\">\n          {{ item.title }}\n        </li>\n      </template>\n    </ol>\n  </nav>\n</template>\n<script>\nexport default {\n  props: {\n    breadcrumbs: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    portalURL: {\n      type: String,\n      required: true,\n      default: () => {\n        return \"\";\n      },\n    },\n    fetchData: {\n      type: Function,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./Breadcrumbs.vue?vue&type=template&id=0034c91a\"\nimport script from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\nexport * from \"./Breadcrumbs.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/4teamwork/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <ul class=\"list-group\">\n    <template v-for=\"item in items\" :key=\"item.UID\">\n      <li class=\"list-group-item\">\n        <div class=\"form-check\">\n          <input\n            class=\"form-check-input me-1\"\n            :type=\"inputType\"\n            :value=\"item['@id']\"\n            :checked=\"item['@id'] in selectedProxy\"\n            :selected=\"item['@id'] in selectedProxy\"\n            v-model=\"selectedProxy\"\n            @change=\"checked\"\n            :disabled=\"selectableTypes.indexOf(item.portal_type) == -1\"\n          />\n          <label class=\"form-check-label\">\n            <a\n              v-if=\"item.is_folderish\"\n              @click.prevent.stop=\"fetchData(item['@id'])\"\n              :href=\"item['@id']\"\n              class=\"list-group-item-action\"\n              >{{ item.title }}</a>\n            <span v-else> {{ item.title }}</span>\n          </label>\n        </div>\n      </li>\n    </template>\n  </ul>\n</template>\n<script>\nexport default {\n  data() {\n    return {\n      selected: [],\n    };\n  },\n  props: {\n    items: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    selectedItems: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    inputType: {\n      type: String,\n      required: true,\n      default: () => {\n        return \"checkbox\";\n      },\n    },\n    selectableTypes: {\n      type: Array,\n      required: true,\n      default: () => {\n        return [];\n      },\n    },\n    fetchData: {\n      type: Function,\n      required: true,\n      default: () => {\n        return null;\n      },\n    },\n  },\n  mounted() {\n    this.selected = this.selectedItems;\n  },\n  methods: {\n    checked() {\n      this.$emit(\"checked\", this.selected);\n    },\n  },\n  computed: {\n    selectedProxy: {\n      get() {\n        return this.selected;\n      },\n      set(value) {\n        if (this.inputType == \"checkbox\") {\n          this.selected = value;\n        } else {\n          this.selected = [value];\n        }\n      },\n    },\n  },\n};\n</script>\n","import { render } from \"./ListItems.vue?vue&type=template&id=33983d16\"\nimport script from \"./ListItems.vue?vue&type=script&lang=js\"\nexport * from \"./ListItems.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/4teamwork/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./App.vue?vue&type=template&id=3532cac8\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"/Users/maethu/4teamwork/ftw.referencewidget/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import App from \"./widget/App.vue\";\nimport { createApp } from \"vue\";\nimport VueAxios from \"vue-axios\";\nimport axios from \"axios\";\nimport qs from \"qs\";\n\nfunction axiosInstance() {\n  const instance = axios.create({\n    paramsSerializer: (params) =>\n      qs.stringify(params, { arrayFormat: \"repeat\" }),\n    headers: {\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n      Prefer: \"return=representation\",\n    },\n  });\n  return instance;\n}\n\nfunction initReferenceWidget() {\n  document.querySelectorAll(\".reference-widget-app\").forEach((element) => {\n    if (element.classList.contains(\"initialized\")) {\n      return;\n    }\n\n    const app = createApp(App);\n    app.use(VueAxios, {\n      axios: axiosInstance(),\n    });\n    app.mount(element);\n    element.classList.add(\"initialized\");\n  });\n}\n\ninitReferenceWidget();\nwindow.initReferenceWidget = initReferenceWidget;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n// runtime helper for setting properties on components\n// in a tree-shakable way\nexports.default = (sfc, props) => {\n    const target = sfc.__vccOpts || sfc;\n    for (const [key, val] of props) {\n        target[key] = val;\n    }\n    return target;\n};\n"],"names":["ref","class","type","props","batching","Object","required","default","methods","triggerNext","this","$emit","next","triggerPrevious","prev","href","for","selected","value","data","searchTerm","sortOn","sortOrder","sortAttribute","title","search","reset","id","option","index","placeholder","breadcrumbs","Array","portalURL","String","fetchData","Function","item","length","items","selectedItems","inputType","selectableTypes","mounted","checked","computed","selectedProxy","get","set","UID","disabled","indexOf","portal_type","components","Pagination","SearchForm","Breadcrumbs","ListItems","baseURL","startURL","portalPath","fieldName","translations","formData","created","document","body","getAttribute","wrapperElement","$refs","root","parentElement","JSON","parse","loadSelectedItems","modal","addEventListener","async","url","options","params","metadata_fields","sort_on","sort_order","isSearch","assign","expand","response","axios","items_total","URL","pathname","SearchableText","updateSelected","hide","querySelectorAll","forEach","element","push","replace","querySelector","remove","modalName","key","name","tabindex","initReferenceWidget","classList","contains","app","createApp","App","use","paramsSerializer","arrayFormat","headers","Accept","Prefer","mount","add","window","exports","sfc","target","__vccOpts","val"],"sourceRoot":""}